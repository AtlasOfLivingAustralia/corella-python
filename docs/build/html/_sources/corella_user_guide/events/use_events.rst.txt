.. _use_events:

use_events
---------------

For this function, we are only checking the ``events`` dataframe.  This function will check specifically for:

- ``eventID``: ID of all your events. Can be constructed, or can be generated by ``corella`` using ``uuid``.
- ``parentEventID``: linked ID of all your events.  Events are in a hierarchy, which we will discuss below.
- ``eventType``: what type of event is it (i.e. Survey, BioBlitz, Site Visit etc.)
- ``eventDate``: date of the event
- ``Event``: name of the event
- ``samplingProtocol``: how did you record your data (i.e. Observation, etc.)

Initial run of ``use_events``
=================================

.. prompt:: python

    >>> corella.use_events(
    ...     dataframe=events
    ... )

.. program-output:: python corella_user_guide/events/events_workflow.py 3

Next.

Adding event-specific information 
====================================

For events, we need to 

.. prompt:: python

    >>> corella.use_events(dataframe=events,
    ...                    eventType='type',
    ...                    samplingProtocol='Observation',
    ...                    Event='name')

.. program-output:: python corella_user_guide/events/events_workflow.py 4

Next.

event hierarchy
====================================

.. prompt:: python

    >>> corella.use_events(dataframe=events,
    ...                    eventType='type',
    ...                    samplingProtocol='Observation',
    ...                    Event='name',
    ...                    event_hierarchy={1: "Site Visit", 2: "Sample", 3: "Observation"})

.. program-output:: python corella_user_guide/events/events_workflow.py 5

what does ``check_data`` and ``suggest_workflow`` say now? 
===========================================================

*Note:* each of the ``use_*`` functions checks your data for compliance with the 
Darwin core standard, but it's always good to double-check your data.

Now, we can check that our data column do comply with the Darwin Core standard.

.. prompt:: python

    >>> corella.check_data(occurrences=occurrences,
    ...                    events=events)

.. program-output:: python corella_user_guide/events/events_workflow.py 6

However, since we don't have all of the required columns, we can run ``suggest_workflow()`` 
again to see how our data is doing this time round.

.. prompt:: python

    >>> corella.suggest_workflow(events=events)

.. program-output:: python corella_user_guide/events/events_workflow.py 7

Other functions
=====================

To learn more about how to use these functions, go to 

 - `use_datetime <use_datetime.html>`_

Optional functions:

- `use_abundance <use_abundance.html>`_
- `use_locality <use_locality.html>`_